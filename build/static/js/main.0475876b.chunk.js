(this["webpackJsonpturisme-en-dades-frontend"]=this["webpackJsonpturisme-en-dades-frontend"]||[]).push([[0],{305:function(e,a,t){},541:function(e,a,t){},542:function(e,a,t){"use strict";t.r(a);var n=t(4),s=t(0),c=t.n(s),i=t(26),l=t.n(i),r=(t(305),t(68)),d=t(76),o=t(548),u=t(549),j=t(550),b=d.a.SubMenu,A=function(e){return Object(n.jsxs)(d.a,{onClick:e.handleMenuSelection,selectedKeys:[e.activeSection],mode:"horizontal",children:[Object(n.jsxs)(b,{icon:Object(n.jsx)(o.a,{twoToneColor:"#1DA57A"}),title:"SOSTENIBILITAT ECON\xd2MICA",children:[Object(n.jsx)(d.a.Item,{children:"Arribada de turistes"},"ecs_tourist_arrivals"),Object(n.jsx)(d.a.Item,{children:"Despesa del turistes"},"ecs_spending"),Object(n.jsx)(d.a.Item,{children:"Ocupaci\xf3 en allotjaments"},"ecs_occupancy"),Object(n.jsx)(d.a.Item,{children:"Arribada de passatgers aeris"},"ecs_air_passengers_arrivals"),Object(n.jsx)(d.a.Item,{children:"Arribada de passatgers mar\xedtims (via regular i creueristes)"},"ecs_sea_passengers_arrivals")]},"economic_sustainability"),Object(n.jsxs)(b,{icon:Object(n.jsx)(u.a,{twoToneColor:"#1DA57A"}),title:"SOSTENIBILITAT AMBIENTAL",children:[Object(n.jsx)(d.a.Item,{children:"Demanda energ\xe8tica"},"ens_energy_demand"),Object(n.jsx)(d.a.Item,{children:"\xcdndex pressi\xf3 humana"},"ens_human_pressure")]},"Environmental sustainability"),Object(n.jsxs)(b,{icon:Object(n.jsx)(j.a,{twoToneColor:"#1DA57A"}),title:"SOSTENIBILITAT SOCIAL",children:[Object(n.jsx)(d.a.Item,{children:"Afiliats del sector tur\xedstic"},"sos_affiliates"),Object(n.jsx)(d.a.Item,{children:"Aturats del sector tur\xedstic < 1 any"},"sos_unemployed"),Object(n.jsx)(d.a.Item,{children:"Taxa de temporalitat dels treballadors del sector tur\xedstic"},"sos_temporality"),Object(n.jsx)(d.a.Item,{children:"Empreses d'alta al sector tur\xedstic"},"sos_companies")]},"social_sustainability")]})},x=t(544),m=t(551),O=t(552),f=t(553),p=function(e){var a=e.data.columns.length,t=e.data.rows.map((function(e,t){return{key:t,rowName:e.name.ca,total_balears:a>0?e.values[0]:null,variation_balears:a>1?e.values[1]:null,total_mallorca:a>2?e.values[2]:null,variation_mallorca:a>3?e.values[3]:null,total_menorca:a>4?e.values[4]:null,variation_menorca:a>5?e.values[5]:null,total_ib_for:a>6?e.values[6]:null,variation_ib_for:a>7?e.values[7]:null}})),s=function(e){return parseFloat(e)>0?Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{style:{marginRight:10},children:e}),Object(n.jsx)(m.a,{style:{color:"#38DCA8"}})]}):parseFloat(e)<0?Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{style:{marginRight:10},children:e}),Object(n.jsx)(O.a,{style:{color:"#12684D"}})]}):0===parseFloat(e)?Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{style:{marginRight:10},children:e}),Object(n.jsx)(f.a,{style:{color:"#1DA57A"}})]}):Object(n.jsx)("div",{children:Object(n.jsx)("span",{style:{marginRight:10},children:e})})},c=[{title:"",dataIndex:"rowName",key:"rowName"},{title:a>0?e.data.columns[0].ca:null,dataIndex:"total_balears",key:"total_balears"},{title:a>1?e.data.columns[1].ca:null,dataIndex:"variation_balears",key:"variation_balears",render:function(e){return s(e)}},{title:a>2?e.data.columns[2].ca:null,dataIndex:"total_mallorca",key:"total_mallorca"},{title:a>3?e.data.columns[3].ca:null,dataIndex:"variation_mallorca",key:"variation_mallorca",render:function(e){return s(e)}},{title:a>4?e.data.columns[4].ca:null,dataIndex:"total_menorca",key:"total_menorca"},{title:a>5?e.data.columns[5].ca:null,dataIndex:"variation_menorca",key:"variation_menorca",render:function(e){return s(e)}},{title:a>6?e.data.columns[6].ca:null,dataIndex:"total_ib_for",key:"total_ib_for"},{title:a>7?e.data.columns[7].ca:null,dataIndex:"variation_ib_for",key:"variation_ib_for",render:function(e){return s(e)}}];return console.log("DATA COLUMNS",e.data.columns),console.log("FORMATTED COLUMNS",c.slice(0,2)),Object(n.jsxs)("div",{style:{margin:"2%",marginTop:"20px"},children:[Object(n.jsx)("h4",{style:{textAlign:"left",color:"#1DA57A",fontWeight:500},children:e.data.title.ca}),Object(n.jsx)(x.a,{dataSource:t,columns:c.slice(0,a+1),pagination:!1,footer:function(){return a=e.footer,Object(n.jsx)("div",{style:{justifyContent:"space-around",display:"flex",fontSize:12},children:a.map((function(e){return Object(n.jsx)("span",{children:e})}))});var a}})]})},S=t(37),_=function(e){var a=Math.PI/180,t=e.cx,s=e.cy,c=e.midAngle,i=e.innerRadius,l=e.outerRadius,r=e.startAngle,d=e.endAngle,o=e.fill,u=e.payload,j=e.percent,b=e.value,A=Math.sin(-a*c),x=Math.cos(-a*c),m=t+(l+10)*x,O=s+(l+10)*A,f=t+(l+30)*x,p=s+(l+30)*A,_=f+22*(x>=0?1:-1),h=p,v=x>=0?"start":"end";return Object(n.jsxs)("g",{children:[Object(n.jsx)("text",{x:t,y:s,dy:8,textAnchor:"middle",fill:o,children:u.name}),Object(n.jsx)(S.d,{cx:t,cy:s,innerRadius:i,outerRadius:l,startAngle:r,endAngle:d,fill:o}),Object(n.jsx)(S.d,{cx:t,cy:s,startAngle:r,endAngle:d,innerRadius:l+6,outerRadius:l+10,fill:o}),Object(n.jsx)("path",{d:"M".concat(m,",").concat(O,"L").concat(f,",").concat(p,"L").concat(_,",").concat(h),stroke:o,fill:"none"}),Object(n.jsx)("circle",{cx:_,cy:h,r:2,fill:o,stroke:"none"}),Object(n.jsx)("text",{x:_+12*(x>=0?1:-1),y:h,textAnchor:v,fill:"#333",children:"".concat(b," turistes")}),Object(n.jsx)("text",{x:_+12*(x>=0?1:-1),y:h,dy:18,textAnchor:v,fill:"#999",children:"(".concat((100*j).toFixed(2),"%)")})]})},h=function(e){var a=Object(s.useState)(0),t=Object(r.a)(a,2),c=t[0],i=t[1];return Object(n.jsx)(S.b,{width:500,height:250,children:Object(n.jsx)(S.a,{activeIndex:c,activeShape:_,data:e.data,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#1DA57A",dataKey:"value",onMouseEnter:function(e,a){i(a)}})})},v=t(545),y=t(546),E=function(e){var a=e.data;return Object(n.jsxs)("div",{style:{margin:"2%"},children:[" ",Object(n.jsx)("h4",{style:{textAlign:"left",color:"#1DA57A",fontWeight:500,marginBottom:20},children:e.data.title.ca}),Object(n.jsxs)(v.a,{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{span:8,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{style:{color:"#1DA57A"},children:"Mallorca"}),Object(n.jsx)(S.c,{children:Object(n.jsx)(h,{data:a.mallorca,title:"Mallorca"})})]})}),Object(n.jsx)(y.a,{span:8,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{style:{color:"#1DA57A"},children:"Menorca"}),Object(n.jsx)(S.c,{children:Object(n.jsx)(h,{data:a.menorca,title:"Menorca"})})]})}),Object(n.jsx)(y.a,{span:8,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{style:{color:"#1DA57A"},children:"Eivissa i Formentera"}),Object(n.jsx)(S.c,{children:Object(n.jsx)(h,{data:a.ibiza_formentera})})]})})]})]})},g=function(e){var a=Math.PI/180,t=e.cx,s=e.cy,c=e.midAngle,i=e.innerRadius,l=e.outerRadius,r=e.startAngle,d=e.endAngle,o=e.fill,u=e.payload,j=(e.percent,e.value),b=(e.units,Math.sin(-a*c)),A=Math.cos(-a*c),x=t+(l+10)*A,m=s+(l+10)*b,O=t+(l+30)*A,f=s+(l+30)*b,p=O+22*(A>=0?1:-1),_=f,h=A>=0?"start":"end";return Object(n.jsxs)("g",{children:[Object(n.jsx)("text",{x:t,y:s,dy:8,textAnchor:"middle",fill:o,children:u.name}),Object(n.jsx)(S.d,{cx:t,cy:s,innerRadius:i,outerRadius:l,startAngle:r,endAngle:d,fill:o}),Object(n.jsx)(S.d,{cx:t,cy:s,startAngle:r,endAngle:d,innerRadius:l+6,outerRadius:l+10,fill:o}),Object(n.jsx)("path",{d:"M".concat(x,",").concat(m,"L").concat(O,",").concat(f,"L").concat(p,",").concat(_),stroke:o,fill:"none"}),Object(n.jsx)("circle",{cx:p,cy:_,r:2,fill:o,stroke:"none"}),Object(n.jsx)("text",{x:p+12*(A>=0?1:-1),y:_,textAnchor:h,fill:"#333",children:"".concat(j)}),Object(n.jsx)("text",{x:p+12*(A>=0?1:-1),y:_,dy:18,textAnchor:h,fill:"#999"})]})},I=function(e){var a=Object(s.useState)(0),t=Object(r.a)(a,2),c=t[0],i=t[1];return Object(n.jsx)(S.b,{width:500,height:250,children:Object(n.jsx)(S.a,{activeIndex:c,activeShape:g,data:e.data,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#1DA57A",dataKey:"value",onMouseEnter:function(e,a){i(a)}})})},R=function(e){var a=e.data;return Object(n.jsxs)("div",{style:{margin:"2%"},children:[" ",Object(n.jsx)("h4",{style:{textAlign:"left",color:"#1DA57A",fontWeight:500,marginBottom:20},children:e.data.title.ca}),Object(n.jsxs)(v.a,{style:{textAlign:"center"},children:[Object(n.jsx)(y.a,{span:8,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{style:{color:"#1DA57A"},children:"Despesa total (milions d'\u20ac)"}),Object(n.jsx)(S.c,{children:Object(n.jsx)(I,{data:a.total,title:"Despesa total (milions d'\u20ac)",units:a.units.total.ca})})]})}),Object(n.jsx)(y.a,{span:8,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{style:{color:"#1DA57A"},children:"Despesa per persona (\u20ac)"}),Object(n.jsx)(S.c,{children:Object(n.jsx)(I,{data:a.person,title:"Despesa per persona (\u20ac)",units:a.units.person.ca})})]})}),Object(n.jsx)(y.a,{span:8,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{style:{color:"#1DA57A"},children:"Despesa per persona i dia (\u20ac)"}),Object(n.jsx)(S.c,{children:Object(n.jsx)(I,{data:a.person_day,title:"Despesa per persona i dia (\u20ac)",units:a.units.person_day.ca})})]})})]})]})},T=function(e){return Object(n.jsx)("div",{children:function(a){switch(a){case"ecs_tourist_arrivals":return Object(n.jsxs)("div",{style:{padding:20},children:[e.data&&Object(n.jsx)(E,{data:{title:{ca:"ARRIBADA DE TURISTES / AGOST 2020"},mallorca:[{name:"Espanya",value:187215},{name:"Alemanya",value:124094},{name:"Fran\xe7a",value:43182},{name:"Regne Unit",value:29236},{name:"It\xe0lia",value:11571},{name:"Pa\xefssos N\xf2rdics",value:12132}],menorca:[{name:"Espanya",value:123423},{name:"Alemanya",value:2179},{name:"Fran\xe7a",value:11255},{name:"Regne Unit",value:4442},{name:"It\xe0lia",value:8789}],ibiza_formentera:[{name:"Espanya",value:120092},{name:"Alemanya",value:13789},{name:"Fran\xe7a",value:19175},{name:"Regne Unit",value:16121},{name:"It\xe0lia",value:29410}]}}),e.data&&e.data.map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["*Sense interilles","**(Dinamarca, Finl\xe0ndia, Noruega i Su\xe8cia)","(..) Dada no disponible","(\u2026) Dada oculta per imprecisa/baixa qualitat."]},a)}))]});case"ecs_spending":return Object(n.jsxs)("div",{style:{padding:20},children:[e.data&&Object(n.jsx)(R,{data:{title:{ca:"DESPESA DELS TURISTES / AGOST 2020"},units:{total:{ca:"milions d'\u20ac"},person:{ca:"milions d'\u20ac"},person_day:{ca:"milions d'\u20ac"}},total:[{name:"Espanya (Altres CA)",value:319.42},{name:"Alemanya",value:155.53},{name:"Fran\xe7a",value:81.47},{name:"Resta del m\xf3n",value:80.07},{name:"Regne Unit",value:65.11},{name:"Benelux",value:57.94},{name:"It\xe0lia",value:52.7},{name:"Su\xefssa",value:20.07},{name:"Pa\xefsos n\xf2rdics",value:18.02}],person:[{name:"Espanya (Altres CA)",value:741.59},{name:"Alemanya",value:1110.42},{name:"Fran\xe7a",value:1106.74},{name:"Resta del m\xf3n",value:1169.4},{name:"Regne Unit",value:1307.36},{name:"Benelux",value:1247.75},{name:"It\xe0lia",value:1058.89},{name:"Su\xefssa",value:1560.61},{name:"Pa\xefsos n\xf2rdics",value:1409.23}],person_day:[{name:"Espanya (Altres CA)",value:88.36},{name:"Alemanya",value:139.09},{name:"Fran\xe7a",value:159.08},{name:"Resta del m\xf3n",value:173.23},{name:"Regne Unit",value:113.55},{name:"Benelux",value:194.73},{name:"It\xe0lia",value:147.03},{name:"Su\xefssa",value:152.75},{name:"Pa\xefsos n\xf2rdics",value:164.7}]}}),e.data&&e.data.slice(0,2).map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["**(Dinamarca, Finl\xe0ndia, Noruega i Su\xe8cia)","(..) Dada no disponible","(\u2026) Dada oculta per imprecisa/baixa qualitat."]},a)})),e.data&&e.data.slice(2,4).map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["(..) Dada no disponible","(\u2026) Dada oculta per imprecisa/baixa qualitat."]},a)})),e.data&&e.data.slice(4).map((function(e,a){return Object(n.jsx)(p,{data:e,footer:[]},a)}))]});case"ecs_occupancy":return Object(n.jsx)("div",{style:{padding:20},children:e.data&&e.data.map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["(..) Dada no disponible","(\u2026) Dada oculta per imprecisa/baixa qualitat."]},a)}))});case"ecs_air_passengers_arrivals":return Object(n.jsx)("div",{style:{padding:20},children:e.data&&e.data.map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["*Sense interilles","**(Dinamarca, Finl\xe0ndia, Noruega i Su\xe8cia)","(..) Dada no disponible"]},a)}))});case"ecs_sea_passengers_arrivals":return Object(n.jsx)("div",{style:{padding:20},children:e.data&&e.data.map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["(..) Dada no disponible"]},a)}))});case"ens_energy_demand":case"ens_human_pressure":case"sos_affiliates":case"sos_unemployed":case"sos_temporality":case"sos_companies":return Object(n.jsx)("div",{style:{padding:20},children:e.data&&e.data.map((function(e,a){return Object(n.jsx)(p,{data:e,footer:["*Sense interilles","**(Dinamarca, Finl\xe0ndia, Noruega i Su\xe8cia)","(..) Dada no disponible","(\u2026) Dada oculta per imprecisa/baixa qualitat."]},a)}))});default:console.log("Lo lamentamos, por el momento no disponemos de "+a+".")}}(e.activeSection)})},D=t(547),N=t(253),C=t(136),G=t.n(C);var P=function(){var e=Object(s.useState)("ecs_tourist_arrivals"),a=Object(r.a)(e,2),t=a[0],c=a[1],i=Object(s.useState)(!0),l=Object(r.a)(i,2),d=l[0],o=l[1],u=Object(s.useState)(null),j=Object(r.a)(u,2),b=j[0],x=j[1];return Object(s.useEffect)((function(){var e=[{_id:"5fad0695e5fedf3df0e77be1",section:"ecs_tourist_arrivals",title:{ca:"ARRIBADA DE TURISTES / AGOST 2020"}},{_id:"5fad0d1ae5fedf3df0e77be2",section:"ecs_tourist_arrivals",title:{ca:"ARRIBADA DE TURISTES / GENER-AGOST 2020"}},{_id:"5fad0fbfe5fedf3df0e77be3",section:"ecs_spending",title:{ca:"DESPESA DELS TURISTES / AGOST 2020  "}},{_id:"5fad1be4e5fedf3df0e77be4",section:"ecs_spending",title:{ca:"DESPESA DELS TURISTES / GENER-AGOST 2020"}},{_id:"5fad238de5fedf3df0e77be5",section:"ecs_spending",type:"total",title:{ca:"DESPESA DELS TURISTES / AGOST 2020  TOTAL"}},{_id:"5fad23abe5fedf3df0e77be6",section:"ecs_spending",type:"total",title:{ca:"DESPESA DELS TURISTES / GENER-AGOST 2020 TOTAL"}},{_id:"5fad23cde5fedf3df0e77be7",section:"ecs_spending",type:"stays",title:{ca:"PERNOCTACIONS I ESTADA MITJANA / AGOST 2020  "}},{_id:"5fad23e8e5fedf3df0e77be8",section:"ecs_spending",type:"stays",title:{ca:"PERNOCTACIONS I ESTADA MITJANA / AGOST 2020 PER ILLA"}},{_id:"5fad2b76e5fedf3df0e77bec",section:"ecs_spending",type:"stays",title:{ca:"PERNOCTACIONS I ESTADA MITJANA / GENER - AGOST 2020  "}},{_id:"5fad2bc0e5fedf3df0e77bed",section:"ecs_spending",type:"stays",title:{ca:"PERNOCTACIONS I ESTADA MITJANA / GENER-AGOST 2020 PER ILLA"}},{_id:"5fae7f9270ad955c4544c38e",section:"ecs_occupancy",title:{ca:"OCUPACI\xd3 PER PLACES OBERTES / AGOST 2020"}},{_id:"5fae7f920dc77d5c4bfaf4ce",section:"ecs_air_passengers_arrivals",title:{ca:"PASSATGERS AERIS (ARRIBADES) / AGOST 2020"}},{_id:"5fae7f9270ad955c4544c38f",section:"ecs_occupancy",title:{ca:"OCUPACI\xd3 PER PLACES OBERTES / ACUMULAT 2020"}},{_id:"5fae7f920dc77d5c4bfaf4cf",section:"ecs_air_passengers_arrivals",title:{ca:"PASSATGERS AERIS (ARRIBADES) / GENER-AGOST 2020"}},{_id:"5fb241b270ad955c4544c394",section:"ecs_sea_passengers_arrivals",title:{ca:" CREUERISTES / AGOST 2020 - Autoritat Portu\xe0ria"}},{_id:"5fb3b9765d85e95533e27a92",section:"ecs_sea_passengers_arrivals",title:{ca:" CREUERISTES / AGOST 2020 - Ports IB"}},{_id:"5fb3b9760ab2ff553d13ebcc",section:"ecs_sea_passengers_arrivals",title:{ca:" CREUERISTES / GENER-AGOST 2020 - Autoritat Portu\xe0ria"}},{_id:"5fb3b9760ab2ff553d13ebcd",section:"ecs_sea_passengers_arrivals",title:{ca:" CREUERISTES / GENER-AGOST 2020 - Ports IB"}},{_id:"5fb426715d85e95533e27a95",section:"ecs_sea_passengers_arrivals",title:{ca:"PASSATGERS MAR\xcdTIMS (ARRIBADES) /   AGOST 2020 - Autoritat Portu\xe0ria"}},{_id:"5fb42ac70ab2ff553d13ebd0",section:"ecs_sea_passengers_arrivals",title:{ca:"PASSATGERS MAR\xcdTIMS (ARRIBADES) /   AGOST 2020 - Ports IB"}},{_id:"5fb42b4f5d85e95533e27a96",section:"ecs_sea_passengers_arrivals",title:{ca:"PASSATGERS MAR\xcdTIMS (ARRIBADES) / GENER-AGOST 2020 - Autoritat Portu\xe0ria"}},{_id:"5fb42b850ab2ff553d13ebd1",section:"ecs_sea_passengers_arrivals",title:{ca:"PASSATGERS MAR\xcdTIMS (ARRIBADES) / GENER-AGOST 2020 - Ports IB"}}].filter((function(e){return e.section===t})),a={"Content-Type":"application/json"},n=e.map((function(e){return G.a.get("http://54.77.111.120:5300/data-grids/".concat(e._id,"?token=").concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImZyb250ZW5kIiwiaWF0IjoxNjA1NTI0OTkzfQ.E_70V52jXRF-dSNBhCawExXyvTnLuMljsWzjuWuSC9k"),{headers:a})}));G.a.all(n).then(G.a.spread((function(){o(!1);for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];x(a.map((function(e){return e.data})))}))).catch((function(e){console.log("axios error",e)}))}),[t]),Object(n.jsxs)("div",{children:[Object(n.jsx)(A,{handleMenuSelection:function(e){console.log("section",e.key),o(!0),c(e.key)},activeSection:t}),d?Object(n.jsx)(D.b,{size:"middle",style:{marginTop:200},children:Object(n.jsx)(N.a,{size:"large"})}):Object(n.jsx)(T,{data:b,activeSection:t})]})},M=(t(541),function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(P,{})})}),L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,554)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,c=a.getLCP,i=a.getTTFB;t(e),n(e),s(e),c(e),i(e)}))};l.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(M,{})}),document.getElementById("root")),L()}},[[542,1,2]]]);
//# sourceMappingURL=main.0475876b.chunk.js.map